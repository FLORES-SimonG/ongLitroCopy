---
import { Image } from "astro:assets";
import logoIcon from "../../assets/Logo.svg"
import SearchPages from "./SearchPages/SearchPages.astro";
import ButtonSecondary from "../Buttons/ButtonSecondary.astro";
import ButtonTextPrimary from "../Buttons/ButtonTextPrimary.astro";

import { getSession } from 'auth-astro/server';

const session = await getSession(Astro.request);



---

<div  class="bg-primary w-full h-28 flex flex-row items-center px-10 justify-between shadow-3xl">
    <a href="/"><Image src={logoIcon} alt="Logo de Un Litro de Leche Alta Gracia"/></a>
    <SearchPages/>
    <div class="flex flex-row items-center">
        <ButtonSecondary title="Dona"/>
        
      
        {
          session ? (
          <a href="/auth/login">  <p>{session.user?.name}</p></a>
          ) : (
          <a href="/auth/login"><ButtonTextPrimary  title="Ingresar" idEvent="buttonLogin"/></a>
          )
          }

        <script>
          
            /*const boton = document.getElementById('buttonLogin');
            boton?.addEventListener ('click', () => {window.location.href = 'https://litro-ong.onrender.com/login'});
        */
        </script>
    </div>
</div>